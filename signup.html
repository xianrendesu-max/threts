<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8"><title>Threads - Signup</title>
    <link rel="stylesheet" href="./style.css"><script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#101010] text-white flex items-center justify-center min-h-screen p-6">
    <div class="w-full max-w-sm text-center">
        <h1 class="text-4xl font-black mb-10 tracking-tighter">Threads</h1>
        <div class="space-y-3">
            <input id="username" type="text" placeholder="ユーザーネーム" class="w-full bg-zinc-900 border-none rounded-xl p-4 focus:ring-1">
            <input id="email" type="email" placeholder="メールアドレス" class="w-full bg-zinc-900 border-none rounded-xl p-4 focus:ring-1">
            <input id="password" type="password" placeholder="パスワード" class="w-full bg-zinc-900 border-none rounded-xl p-4 focus:ring-1">
            <button id="signupBtn" class="w-full bg-white text-black font-bold py-4 rounded-xl mt-4">新規登録</button>
            <a href="/login.html" class="block text-zinc-500 text-sm mt-4">すでにアカウントをお持ちの方はこちら</a>
        </div>
    </div>
    <script type="module">
        import { supabase } from './lib/supabase.js';
        document.getElementById('signupBtn').onclick = async () => {
            const username = document.getElementById('username').value;
            const { error } = await supabase.auth.signUp({
                email: document.getElementById('email').value,
                password: document.getElementById('password').value,
                options: { data: { username } }
            });
            if (error) alert(error.message); else alert('確認メールを送信しました');
        };
    </script>
</body>
</html>
